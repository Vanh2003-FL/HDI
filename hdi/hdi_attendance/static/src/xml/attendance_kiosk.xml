<?xml version="1.0" encoding="utf-8"?>
<templates xml:space="preserve">
    <!-- Extend Attendance Kiosk to add Work Location selector -->
    <t t-name="hdi_attendance.HrAttendanceMyMainMenu" t-inherit="hr_attendance.HrAttendanceMyMainMenu" t-inherit-mode="extension">
        <xpath expr="//h4[hasclass('mt0')]" position="before">
            <t t-set="checked_in" t-value="state.employee.attendance_state=='checked_in'"/>
            <t t-set="en_checked_diff_ok" t-value="state.en_checked_diff_ok == true"/>
            <div class="mb-3" t-if="!checked_in or (checked_in and en_checked_diff_ok)">
                <div class="d-flex align-items-center">
                    <label class="col-4 fw-bold mb-0" for="hdi_location_id">Địa điểm</label>
                    <select class="form-select col-8" id="hdi_location_id" name="hdi_location_id">
                        <t t-foreach="state.locations" t-as="location" t-key="location.id">
                            <option t-att-value="location.id" t-att-selected="location.default_value == location.id ? 'selected' : undefined">
                                <t t-esc="location.name"/>
                            </option>
                        </t>
                    </select>
                </div>
            </div>
        </xpath>
    </t>
    
    <!-- Hide dismiss button on greeting message -->
    <t t-name="hdi_attendance.HrAttendanceGreetingMessage" t-inherit="hr_attendance.HrAttendanceGreetingMessage" t-inherit-mode="extension">
        <xpath expr="//button[hasclass('o_hr_attendance_button_dismiss')]" position="attributes">
            <attribute name="class" add="d-none" separator=" "/>
        </xpath>
    </t>
</templates>
