<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Attendance Settings Form View -->
        <record id="view_attendance_settings_form" model="ir.ui.view">
            <field name="name">attendance.settings.form</field>
            <field name="model">attendance.settings</field>
            <field name="arch" type="xml">
                <form string="Cài đặt chấm công">
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="name"/>
                            </h1>
                        </div>

                        <notebook>
                            <page string="Cài đặt vị trí" name="location">
                                <group>
                                    <group>
                                        <field name="enforce_location_checkin"/>
                                        <field name="max_checkin_distance" attrs="{'invisible': [('enforce_location_checkin', '=', False)]}"/>
                                    </group>
                                    <group>
                                        <field name="enforce_location_checkout"/>
                                        <field name="max_checkout_distance" attrs="{'invisible': [('enforce_location_checkout', '=', False)]}"/>
                                    </group>
                                </group>
                            </page>

                            <page string="Cài đặt thời gian" name="time">
                                <group>
                                    <group name="tolerance">
                                        <field name="late_tolerance_minutes"/>
                                        <field name="early_leave_tolerance_minutes"/>
                                        <field name="auto_checkout_hours"/>
                                    </group>
                                    <group name="working_hours">
                                        <field name="standard_working_hours"/>
                                        <field name="overtime_threshold_hours"/>
                                        <field name="max_working_hours_per_day"/>
                                    </group>
                                </group>

                                <group name="break_time" string="Thời gian nghỉ">
                                    <field name="auto_deduct_break"/>
                                    <field name="lunch_break_duration" attrs="{'invisible': [('auto_deduct_break', '=', False)]}"/>
                                </group>

                                <group name="rounding" string="Làm tròn thời gian">
                                    <field name="round_attendance_time"/>
                                    <field name="rounding_minutes" attrs="{'invisible': [('round_attendance_time', '=', False)]}"/>
                                </group>
                            </page>

                            <page string="Thông báo" name="notifications">
                                <group>
                                    <group>
                                        <field name="notify_missing_checkin"/>
                                        <field name="notify_missing_checkout"/>
                                    </group>
                                    <group>
                                        <field name="notify_late_checkin"/>
                                        <field name="notify_early_checkout"/>
                                    </group>
                                </group>
                            </page>

                            <page string="Giải trình" name="explanations">
                                <group>
                                    <group>
                                        <field name="allow_explanation"/>
                                        <field name="explanation_deadline_days" attrs="{'invisible': [('allow_explanation', '=', False)]}"/>
                                    </group>
                                    <group>
                                        <field name="require_manager_approval" attrs="{'invisible': [('allow_explanation', '=', False)]}"/>
                                    </group>
                                </group>
                            </page>

                            <page string="Bảo mật" name="security">
                                <group name="ip_restriction" string="Giới hạn IP">
                                    <field name="enable_ip_restriction"/>
                                    <field name="allowed_ip_addresses" attrs="{'invisible': [('enable_ip_restriction', '=', False)]}" placeholder="192.168.1.100&#10;10.0.0.1&#10;..."/>
                                </group>
                            </page>

                            <page string="Mobile & Kiosk" name="mobile">
                                <group>
                                    <group name="mobile" string="Mobile App">
                                        <field name="enable_mobile_checkin"/>
                                        <field name="require_photo_checkin" attrs="{'invisible': [('enable_mobile_checkin', '=', False)]}"/>
                                    </group>
                                    <group name="kiosk" string="Kiosk Mode">
                                        <field name="enable_kiosk_mode"/>
                                        <field name="kiosk_pin_required" attrs="{'invisible': [('enable_kiosk_mode', '=', False)]}"/>
                                    </group>
                                </group>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>
    </data>
</odoo>