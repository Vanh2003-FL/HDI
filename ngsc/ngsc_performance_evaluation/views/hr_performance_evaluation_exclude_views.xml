<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="ngsc_hr_performance_evaluation_exclude_view_tree_view_tree" model="ir.ui.view">
            <field name="name">ngsc.hr.performance.evaluation.exclude.view.tree</field>
            <field name="model">ngsc.hr.performance.evaluation.exclude</field>
            <field name="arch" type="xml">
                <list string="Loại trừ đánh giá hiệu suất" sample="1">
                    <field name="state_ids" widget="many2many_tags"/>
                    <field name="block_ids" widget="many2many_tags"/>
                    <field name="exclude_employee_ids" widget="many2many_tags"/>
                    <field name="create_uid"/>
                    <field name="note"/>
                </list>
            </field>
        </record>

        <record id="ngsc_hr_performance_evaluation_exclude_view_form" model="ir.ui.view">
            <field name="name">ngsc.hr.performance.evaluation.exclude.view.form</field>
            <field name="model">ngsc.hr.performance.evaluation.exclude</field>
            <field name="arch" type="xml">
                <form string="Loại trừ đánh giá hiệu suất">
                    <sheet>
                        <group>
                            <group>
                                <field name="state_ids" options="{'no_create': True}" widget="many2many_tags"/>
                                <field name="block_ids" options="{'no_create': True}" widget="many2many_tags"/>
                            </group>
                            <group>
                                <field name="create_uid" readonly="1" force_save="1"/>
                                <field name="note" placeholder="Ghi chú..."/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Danh sách nhân sự loại trừ">
                                <button name="action_import_exclude_employee" type="object"
                                        class="btn-primary"
                                        string="Nhập Excel"
                                        icon="fa-upload" style="margin-bottom: 5px;"/>
                                <button name="action_add_exclude_employee" type="object"
                                        class="btn btn-secondary"
                                        icon="fa-plus" style="margin-left: 5px;margin-bottom: 5px;"
                                        string="Thêm nhanh"/>
                                <button name="action_remove_exclude_employee" type="object"
                                        class="btn btn-secondary"
                                        icon="fa-trash-o" style="margin-left: 5px;margin-bottom: 5px;"
                                        string="Xóa nhanh" attrs="{'invisible':[('exclude_employee_ids','=',[])]}"/>
                                <p>
                                    <a href="/ngsc_performance_evaluation/static/src/document/Template_Import_Exclude_Employee.xlsx">
                                        <span class="fa fa-download" title="Tải mẫu Import"></span>
                                        <i>Template Import</i>
                                    </a>
                                </p>
                                <field name="exclude_employee_ids" options="{'no_create': True}">
                                    <list editable="bottom">
                                        <field name="employee_id" options="{'no_create': True, 'search_more': True}"
                                               domain="[('id', 'in', parent.available_employee_ids)]"/>
                                        <field name="barcode"/>
                                        <field name="work_email" readonly="1" force_save="1"/>
                                        <field name="state_hr_employee"/>
                                        <field name="en_block_id"/>
                                        <field name="department_id"/>
                                        <field name="en_department_id"/>
                                        <field name="en_status_hr"/>
                                        <field name="date_from"/>
                                        <field name="date_to"/>
                                    </list>
                                    <form create="0" edit="0" delete="0">
                                        <sheet>
                                            <group>
                                                <field name="employee_id"/>
                                                <field name="state_hr_employee"/>
                                                <field name="barcode"/>
                                                <field name="job_title"/>
                                                <field name="work_email"/>
                                                <field name="en_block_id"/>
                                                <field name="department_id"/>
                                                <field name="en_department_id"/>
                                                <field name="en_status_hr"/>
                                                <field name="date_from"/>
                                                <field name="date_to"/>
                                            </group>
                                        </sheet>
                                    </form>
                                </field>
                                <field name="available_employee_ids" invisible="1"/>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="ngsc_hr_performance_evaluation_exclude_act_window" model="ir.actions.act_window">
            <field name="name">Loại trừ đánh giá hiệu suất</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">ngsc.hr.performance.evaluation.exclude</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="exclude_employee_import_client" model="ir.actions.client">
            <field name="name">Nhập danh sách nhân sự loại trừ</field>
            <field name="tag">import</field>
            <field name="params">
                {'model':'ngsc.hr.performance.evaluation.exclude.detail','import_field':'exclude_id.id','show_required':True}
            </field>
            <field name="target">new</field>
        </record>
    </data>

    <data>
        <record id="ngsc_hr_performance_evaluation_exclude_detail_view_tree" model="ir.ui.view">
            <field name="name">ngsc_hr_performance_evaluation_exclude_detail_view_tree</field>
            <field name="model">ngsc.hr.performance.evaluation.exclude.detail</field>
            <field name="arch" type="xml">
                <list>
                    <field name="employee_id"/>
                    <field name="barcode"/>
                    <field name="work_email"/>
                    <field name="state_hr_employee"/>
                    <field name="en_block_id"/>
                    <field name="department_id"/>
                    <field name="en_department_id"/>
                    <field name="en_status_hr"/>
                    <field name="date_from"/>
                    <field name="date_to"/>
                </list>
            </field>
        </record>

        <record id="ngsc_hr_performance_evaluation_exclude_detail_view_search" model="ir.ui.view">
            <field name="name">ngsc_hr_performance_evaluation_exclude_detail_view_tree</field>
            <field name="model">ngsc.hr.performance.evaluation.exclude.detail</field>
            <field name="arch" type="xml">
                <search>
                    <field name="employee_id" string="Tất cả"
                           filter_domain="['|', '|', '|','|','|',('employee_id', 'ilike', self), ('barcode', 'ilike', self), ('work_email', 'ilike', self), ('en_block_id', 'ilike', self), ('department_id', 'ilike', self), ('en_department_id', 'ilike', self)]"/>
                    <field name="employee_id"/>
                    <field name="barcode"/>
                    <field name="work_email"/>
                    <field name="en_block_id"/>
                    <field name="department_id"/>
                    <field name="en_department_id"/>
                </search>
            </field>
        </record>
    </data>
</odoo>