<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="group_recruitment_request_manager_hr" model="res.groups">
        <field name="name">Trưởng phòng nguồn lực</field>
        <field name="category_id" ref="base.module_category_human_resources_recruitment"/>
        <field name="implied_ids" eval="[(4, ref('ngsd_base.group_td'))]"/>
    </record>

    <record id="group_recruitment_request_manager" model="res.groups">
        <field name="name">Giám đốc khối</field>
        <field name="category_id" ref="base.module_category_human_resources_recruitment"/>
    </record>

    <!-- Thiết lập trình đơn Menu    -->
    <record model="ir.ui.menu" id="hr_recruitment.menu_hr_recruitment_root">
      <field name="groups_id" eval="[(4, ref('ngsc_recruitment.group_recruitment_request_manager_hr')),
                                    (4, ref('ngsc_recruitment.group_recruitment_request_manager'))]"/>
    </record>

    <record id="group_recruitment_request_manager_hr_rule" model="ir.rule">
            <field name="name">Trưởng phòng nguồn lực</field>
            <field name="model_id" ref="model_hr_recruitment_request"/>
            <field name="groups" eval="[(4, ref('ngsc_recruitment.group_recruitment_request_manager_hr'))]"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="1"/>
    </record>
    <record id="group_recruitment_request_manager_rule" model="ir.rule">
            <field name="name">Giám đốc khối</field>
            <field name="model_id" ref="model_hr_recruitment_request"/>
            <field name="groups" eval="[(4, ref('ngsc_recruitment.group_recruitment_request_manager'))]"/>
            <field name="domain_force">[('employee_id', '=', user.employee_id.id)]</field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="1"/>
    </record>
    <record id="group_hr_recruitment_user_rule" model="ir.rule">
            <field name="name">Nhân viên</field>
            <field name="model_id" ref="model_hr_recruitment_request"/>
            <field name="groups" eval="[(4, ref('hr_recruitment.group_hr_recruitment_user'))]"/>
            <field name="domain_force">[('hr_id', '=', user.employee_id.id)]</field>
            <field name="perm_read" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_unlink" eval="0"/>
    </record>

    <record id="ngsc_news_job_td_manager_rule" model="ir.rule">
            <field name="name">TP nguồn lực</field>
            <field name="model_id" ref="model_ngsc_news_job"/>
            <field name="groups" eval="[(4, ref('ngsc_recruitment.group_recruitment_request_manager_hr'))]"/>
            <field name="domain_force">[(1, '=', 1)]</field>
    </record>
    <!-- Trưởng phòng nguồn lực xem all Ứng viên -->
    <record id="ngsc_applicant_td_manager_rule" model="ir.rule">
            <field name="name">TP nguồn lực - ứng viên</field>
            <field name="model_id" ref="hr_recruitment.model_hr_applicant"/>
            <field name="groups" eval="[(4, ref('ngsc_recruitment.group_recruitment_request_manager_hr'))]"/>
            <field name="domain_force">[(1, '=', 1)]</field>
    </record>

    <record id="access_ngsc_recruitment_news_job_td" model="ir.model.access">
            <field name="name">NV - tin tuyển dụng</field>
            <field name="model_id" ref="model_ngsc_news_job"/>
            <field name="group_id" ref="ngsd_base.group_td"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="1"/>
    </record>

    <!-- adm xem tin tuyển dụng -->
    <record id="ngsc_news_job_system_rule" model="ir.rule">
            <field name="name">ADM - Tin tuyển dụng</field>
            <field name="model_id" ref="model_ngsc_news_job"/>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
            <field name="domain_force">[(1, '=', 1)]</field>
    </record>

    <!-- adm xem ứng viên -->
    <record id="ngsc_applicant_system_rule" model="ir.rule">
            <field name="name">ADM - ứng viên</field>
            <field name="model_id" ref="hr_recruitment.model_hr_applicant"/>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
            <field name="domain_force">[(1, '=', 1)]</field>
    </record>

    <!-- Rule: Nhân viên tuyển dụng chỉ xem Tin tuyển dụng của MÌNH -->
    <record id="ngsc_news_job_td_rule" model="ir.rule">
            <field name="name">TD - Tin tuyển dụng</field>
            <field name="model_id" ref="model_ngsc_news_job"/>
            <field name="groups" eval="[(4, ref('ngsd_base.group_td'))]"/>
            <field name="domain_force">[(1, '=', 1)]</field>
    </record>

    <record id="access_ngsc_recruitment_applicant_td" model="ir.model.access">
            <field name="name">NV - Đơn ứng tuyển</field>
            <field name="model_id" ref="hr_recruitment.model_hr_applicant"/>
            <field name="group_id" ref="ngsd_base.group_td"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="1"/>
    </record>


    <!-- Nhân viên tuyển dụng chỉ xem Ứng viên thuộc Job MÌNH tạo -->
    <record id="ngsc_applicant_td_rule" model="ir.rule">
            <field name="name">TD - Ứng viên</field>
            <field name="model_id" ref="hr_recruitment.model_hr_applicant"/>
            <field name="groups" eval="[(4, ref('ngsd_base.group_td'))]"/>
            <field name="domain_force">[('news_job_id.create_uid','=',user.id)]</field>
    </record>

    <record id="group_recruitment_request_manager_employee_hr_rule" model="ir.rule">
        <field name="name">TPNL: Xem tất cả nhân viên</field>
        <field name="model_id" ref="model_hr_employee"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('ngsc_recruitment.group_recruitment_request_manager_hr'))]"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
    </record>

</odoo>