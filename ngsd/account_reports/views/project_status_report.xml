<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="project_status_report_tree" model="ir.ui.view">
        <field name="name">project_status_report_tree</field>
        <field name="model">project.status.report</field>
        <field name="arch" type="xml">
            <list limit="10000" class="report_tree_view">
                <field name="user_id" invisible="1"/>
                <field name="project_en_code" optional="show"/>
                <field name="project_id" optional="show"/>
                <field name="project_en_area_id" optional="show"/>
                <field name="project_en_department_id" optional="show"/>
                <field name="project_user_id" optional="show"/>
                <field name="project_en_project_qa_id" optional="show"/>
                <field name="project_en_project_sale_id" optional="show"/>
                <field name="project_en_project_type_id" optional="show"/>
                <field name="project_description" optional="show"/>
                <field name="project_date_start" optional="show"/>
                <field name="project_first_date" optional="show"/>
                <field name="project_date" optional="show"/>
                <field name="project_stage_id" optional="show"/>
                <field name="task_plan_week" optional="show"/>
                <field name="risk" optional="show"/>
                <field name="problem" optional="show"/>
                <field name="document" optional="show"/>
                <field name="qa_evaluate" optional="show"/>
                <field name="wbs_plan" optional="show"/>
                <field name="wbs_indate" optional="show"/>
                <field name="wbs_rate" optional="show" widget="badge" decoration-danger="wbs_rate &lt; 80 or wbs_rate == 80" decoration-warning="wbs_rate &gt; 80 and wbs_rate &lt; 90" decoration-success="wbs_rate &gt; 90 or wbs_rate == 90"/>
                <field name="resource_bmm" optional="show"/>
                <field name="resource_plan" optional="show"/>
                <field name="resource_mm_actual" optional="show"/>
                <field name="resource_rate" optional="show" widget="badge" decoration-danger="resource_rate &gt; 120 or resource_rate == 120 or resource_rate &lt; 50" decoration-warning="((resource_rate &gt; 50 or resource_rate == 50) and resource_rate &lt; 70) or (resource_rate &lt; 120 and resource_rate &gt; 110)" decoration-success="(resource_rate &gt; 70 or resource_rate == 70) and (resource_rate &lt; 110 or resource_rate == 110)"/>
                <field name="response_rate_plan" optional="show"/>
                <field name="response_rate" optional="show" widget="badge" decoration-danger="response_rate &lt; response_rate_plan and count_ticket &gt; 0" decoration-success="response_rate &gt; response_rate_plan or response_rate == response_rate_plan and count_ticket &gt; 0"/>
                <field name="response_ticket" optional="show"/>
                <field name="response_ticket_to_date" optional="show"/>
                <field name="handle_rate_plan" optional="show"/>
                <field name="handle_rate" optional="show" widget="badge" decoration-danger="handle_rate &lt; handle_rate_plan and count_ticket &gt; 0" decoration-success="handle_rate &gt; handle_rate_plan or handle_rate == handle_rate_plan and count_ticket &gt; 0"/>
                <field name="handle_ticket" optional="show"/>
                <field name="handle_ticket_to_date" optional="show"/>
                <field name="note" optional="show"/>
                <field name="count_ticket" invisible="1"/>
            </list>
        </field>
    </record>

    <record id="project_status_report_search" model="ir.ui.view">
        <field name="name">project_status_report_search</field>
        <field name="model">project.status.report</field>
        <field name="arch" type="xml">
            <search >
                <field name="project_id"/>
                <field name="project_user_id"/>
                <field name="project_en_project_qa_id"/>
                <field name="project_en_project_type_id"/>
                <separator/>
            </search>
        </field>
    </record>

    <record id="project_status_report_action_server" model="ir.actions.server">
        <field name="name">Báo cáo tuần</field>
        <field name="model_id" ref="account_reports.model_project_status_report"/>
        <field name="binding_model_id" eval="False"/>
        <field name="state">code</field>
        <field name="code">
action = {
    'type': 'ir.actions.act_window',
    'name': 'Báo cáo tuần',
    'res_model': 'report.info.popup',
    'views': [[env.ref('account_reports.report_info_popup_form').id, 'form']],
    'context': {'default_dest_model': 'project.status.report', 'default_dest_name': 'Báo cáo tuần'},
    'target': 'new',
}
        </field>
    </record>

    <record id="menu_project_status_report" model="ir.ui.menu">
        <field name="name">Báo cáo tuần</field>
        <field name="action" ref="project_status_report_action_server"/>
        <field name="sequence">40</field>
    </record>
</odoo>