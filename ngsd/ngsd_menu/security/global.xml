<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="ir_rule_x_crm_consulting_team_multi_company" model="ir.rule">
        <field name="name">ƒê·ªôi t∆∞ v·∫•n: Multi Company</field>
        <field name="model_id" ref="ngsd_crm.model_x_crm_consulting_team"/>
        <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
    </record>

    <record id="ir_rule_x_crm_development_team_multi_company" model="ir.rule">
        <field name="name">ƒê·ªôi k·ªπ thu·∫≠t: Multi Company</field>
        <field name="model_id" ref="ngsd_crm.model_x_crm_development_team"/>
        <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
    </record>

    <record id="base.access_res_partner_group_user" model="ir.model.access">
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_unlink" eval="False"/>
    </record>

    <record id="project.task_visibility_rule" model="ir.rule">
        <field name="domain_force">['|','&amp;',('project_id', '!=', False),('project_id.message_partner_ids', 'in', [user.partner_id.id]),'|',('message_partner_ids', 'in', [user.partner_id.id]), ('en_task_position.user_id', '=', user.id)]</field>
    </record>

    <record id="group_sale_salesman_all_leads" model="res.groups">
        <field name="name">Ng∆∞·ªùi d√πng: TCKT h·∫°n ch·∫ø lead</field>
        <field name="category_id" ref="base.module_category_sales_sales"/>
        <field name="implied_ids" eval="[(4, ref('sales_team.group_sale_salesman'))]"/>
        <field name="rule_groups" eval="[
        (4,ref('sale.account_invoice_line_rule_see_all')),
        (4,ref('sale.account_invoice_send_rule_see_all')),
        (4,ref('sale.account_invoice_report_rule_see_all')),
        (4,ref('crm.crm_activity_report_rule_all_activities')),
        (4,ref('sale.sale_order_line_see_all')),
        (4,ref('sale.sale_order_report_see_all')),
        (4,ref('sales_team.crm_rule_all_salesteam')),
        (4,ref('sale.sale_order_see_all')),
        (4,ref('sale.account_invoice_rule_see_all')),
        ]"/>
    </record>

    <record id="group_sale_salesman_all_leads_model_crm_lead_rule" model="ir.rule">
        <field name="name">Xem lead h·∫°n ch·∫ø</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="groups" eval="[(4,ref('group_sale_salesman_all_leads'))]"/>
        <field name="domain_force">[('stage_id', 'in', [5, 4, 11])]</field>
    </record>

    <record id="group_sale_salesman_all_leads_model_project_create_invoice_access" model="ir.model.access">
        <field name="name">access.project.create.invoice</field>
        <field name="model_id" ref="sale_timesheet.model_project_create_invoice"/>
        <field name="group_id" ref="group_sale_salesman_all_leads"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="False"/>
    </record>

    <record id="group_sale_salesman_support_leads" model="res.groups">
        <field name="name">Ng∆∞·ªùi d√πng: Sales Support h·∫°n ch·∫ø lead</field>
        <field name="category_id" ref="base.module_category_sales_sales"/>
        <field name="implied_ids" eval="[(4, ref('sales_team.group_sale_salesman'))]"/>
        <field name="rule_groups" eval="[
        (4,ref('sale.account_invoice_line_rule_see_all')),
        (4,ref('sale.account_invoice_send_rule_see_all')),
        (4,ref('sale.account_invoice_report_rule_see_all')),
        (4,ref('crm.crm_activity_report_rule_all_activities')),
        (4,ref('sale.sale_order_line_see_all')),
        (4,ref('sale.sale_order_report_see_all')),
        (4,ref('sales_team.crm_rule_all_salesteam')),
        (4,ref('sale.sale_order_see_all')),
        (4,ref('sale.account_invoice_rule_see_all')),
        ]"/>
    </record>

    <record id="group_sale_salesman_support_leads_model_crm_lead_rule" model="ir.rule">
        <field name="name">Xem lead h·∫°n ch·∫ø: Th·∫Øng, Th∆∞∆°ng th·∫£o</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="groups" eval="[(4,ref('group_sale_salesman_support_leads'))]"/>
        <field name="domain_force">[('stage_id', 'in', [5, 4])]</field>
    </record>

    <record id="group_sale_salesman_support_leads_model_project_create_invoice_access" model="ir.model.access">
        <field name="name">access.project.create.invoice</field>
        <field name="model_id" ref="sale_timesheet.model_project_create_invoice"/>
        <field name="group_id" ref="group_sale_salesman_support_leads"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="False"/>
    </record>
    <record id="group_sale_salesman_support_leads_model_res_bank_access" model="ir.model.access">
        <field name="name">T·∫°o ng√¢n h√†ng: CRU res.bank</field>
        <field name="model_id" ref="base.model_res_bank"/>
        <field name="group_id" ref="group_sale_salesman_support_leads"/>
        <field name="perm_create" eval="True"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="True"/>
        <field name="perm_unlink" eval="False"/>
    </record>

    <record id="group_base_group_user_model_crm_support_history_rule" model="ir.rule">
        <field name="name">Xem l·ªãch s·ª≠ chƒÉm s√≥c c·ªßa ƒë·ªôi m√¨nh</field>
        <field name="model_id" ref="ngsd_crm.model_crm_support_history"/>
        <field name="groups" eval="[(4,ref('base.group_user'))]"/>
        <field name="domain_force">[('partner_id.activity_user_ids', 'in', user.user_my_lead_ids.ids)]</field>
        <field name="perm_create" eval="False"/>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_unlink" eval="False"/>
    </record>

    <record id="group_sale_salesman_model_crm_support_history_rule1" model="ir.rule">
        <field name="name">Xem l·ªãch chƒÉm s√≥c c·ªßa ch√≠nh m√¨nh</field>
        <field name="model_id" ref="ngsd_crm.model_crm_support_history"/>
        <field name="groups" eval="[(4,ref('sales_team.group_sale_salesman'))]"/>
        <field name="domain_force">['|', ('x_lead_id.user_id', '=', user.id), ('x_lead_id.user_id', '=', False)]</field>
    </record>

    <record id="group_sale_view_team_leads_model_crm_support_history_rule" model="ir.rule">
        <field name="name">Xem l·ªãch chƒÉm s√≥c c·ªßa nh√≥m m√¨nh</field>
        <field name="model_id" ref="ngsd_crm.model_crm_support_history"/>
        <field name="groups" eval="[(4,ref('ngsd_base.group_sale_view_team_leads'))]"/>
        <field name="domain_force">['|', ('x_lead_id.team_id.user_ids', 'in', user.id), ('x_lead_id.user_id', 'in', user.user_my_lead_ids.ids)]</field>
    </record>

    <record id="group_sale_view_team_office_model_crm_support_history_rule" model="ir.rule">
        <field name="name">Xem l·ªãch chƒÉm s√≥c c·ªßa trung t√¢m m√¨nh</field>
        <field name="model_id" ref="ngsd_crm.model_crm_support_history"/>
        <field name="groups" eval="[(4,ref('ngsd_base.group_sale_view_team_office'))]"/>
        <field name="domain_force">['|', ('x_lead_id.x_consulting_team.user_ids', 'in', user.ids), ('x_lead_id.x_development_team.user_ids', 'in', user.ids)]</field>
    </record>

    <record id="group_sale_salesman_all_leads_model_crm_support_history_rule" model="ir.rule">
        <field name="name">Xem t·∫•t c·∫£ l·ªãch chƒÉm s√≥c</field>
        <field name="model_id" ref="ngsd_crm.model_crm_support_history"/>
        <field name="groups" eval="[(4,ref('sales_team.group_sale_salesman_all_leads'))]"/>
        <field name="domain_force">[]</field>
    </record>

    <record id="sales_team_group_sale_salesman_model_crm_support_history" model="ir.rule">
        <field name="name">CRM Support History: Xem ƒë∆∞·ª£c c√°c b·∫£n ghi do m√¨nh t·∫°o ra</field>
        <field name="model_id" ref="ngsd_crm.model_crm_support_history"/>
        <field name="groups" eval="[(4,ref('sales_team.group_sale_salesman'))]"/>
        <field name="domain_force">[('create_uid', '=', user.id)]</field>
    </record>

    <record id="group_documents_manager_model_documents_folder_rule" model="ir.rule">
        <field name="name">Th∆∞ m·ª•c c·ªßa d·ª± √°n m√¨nh l√† PM</field>
        <field name="model_id" ref="documents.model_documents_folder"/>
        <field name="groups" eval="[(4, ref('documents.group_documents_manager'))]"/>
        <field name="domain_force">[('en_project_id.user_id', '=', user.id)]</field>
    </record>

    <record id="group_documents_manager_model_documents_document_rule" model="ir.rule">
        <field name="name">T√†i li·ªáu c·ªßa d·ª± √°n m√¨nh l√† PM</field>
        <field name="model_id" ref="documents.model_documents_document"/>
        <field name="groups" eval="[(4, ref('documents.group_documents_manager'))]"/>
        <field name="domain_force">[('folder_id.en_project_id.user_id', '=', user.id)]</field>
    </record>

    <record id="group_documents_manager_model_documents_share_rule" model="ir.rule">
        <field name="name">Chia s·∫ª t√†i li·ªáu c·ªßa d·ª± √°n m√¨nh l√† PM</field>
        <field name="model_id" ref="documents.model_documents_share"/>
        <field name="groups" eval="[(4, ref('documents.group_documents_manager'))]"/>
        <field name="domain_force">[('folder_id.en_project_id.user_id', '=', user.id)]</field>
    </record>

    <record id="group_documents_manager_model_documents_folder_rule" model="ir.rule">
        <field name="name">Th∆∞ m·ª•c c·ªßa d·ª± √°n m√¨nh l√† PM</field>
        <field name="model_id" ref="documents.model_documents_folder"/>
        <field name="groups" eval="[(4, ref('documents.group_documents_manager'))]"/>
        <field name="domain_force">[('en_project_id.user_id', '=', user.id)]</field>
    </record>

    <record id="group_system_model_en_resource_planning_rule" model="ir.rule">
        <field name="name">T·∫•t c·∫£ KHNL</field>
        <field name="model_id" ref="ngsd_base.model_en_resource_planning"/>
        <field name="groups" eval="[(4,ref('base.group_system'))]"/>
        <field name="domain_force">[]</field>
    </record>

    <record id="group_system_model_en_wbs_rule" model="ir.rule">
        <field name="name">T·∫•t c·∫£ WBS</field>
        <field name="model_id" ref="ngsd_base.model_en_wbs"/>
        <field name="groups" eval="[(4,ref('base.group_system'))]"/>
        <field name="domain_force">[]</field>
    </record>

    <record id="rewrite_noupdate_job" model="ir.cron">
        <field name="name">üêßüêßüêß</field>
        <field name="model_id" ref="base.model_res_users"/>
        <field name="state">code</field>
        <field name="code">
env.ref('hr_holidays.hr_leave_rule_user_read').write({'perm_read': True})
env.ref('hr_timesheet.timesheet_line_rule_user').write({'domain_force': "[('user_id', '=', user.id),('project_id', '!=', False)]"})
env.ref('hr_holidays.hr_leave_rule_responsible_read').write({'domain_force': "['|', ('employee_id', 'child_of', user.employee_ids.ids), ('en_approve_line_ids.approver_user_ids', '=', user.id)]"})
env.ref('hr_holidays.hr_leave_rule_responsible_update').write({'domain_force': "[('holiday_type', '=', 'employee'),'|','&amp;',('employee_id.user_id', '=', user.id),('state', '!=', 'validate'), '|', ('employee_id', 'child_of', user.employee_ids.ids), ('en_approve_line_ids.approver_user_ids', '=', user.id)]"})
env.ref('hr_holidays.hr_leave_report_rule_group_holiday_user').write({'groups': [(3, env.ref('hr_holidays.group_hr_holidays_user').id), (4, env.ref('ngsd_base.group_toof').id)]})
env.ref('hr_holidays.resource_leaves_holidays_user').write({'groups': [(3, env.ref('hr_holidays.group_hr_holidays_user').id), (4, env.ref('ngsd_base.group_toof').id)]})
env.ref('hr_holidays.hr_leave_allocation_rule_officer_read').write({'groups': [(3, env.ref('hr_holidays.group_hr_holidays_user').id), (4, env.ref('ngsd_base.group_toof').id)]})
env.ref('hr_holidays.hr_leave_allocation_rule_officer_update').write({'groups': [(3, env.ref('hr_holidays.group_hr_holidays_user').id), (4, env.ref('ngsd_base.group_toof').id)]})
env.ref('hr_holidays.hr_leave_rule_user_read').write({'groups': [(3, env.ref('hr_holidays.group_hr_holidays_user').id), (4, env.ref('ngsd_base.group_toof').id)]})
env.ref('hr_holidays.hr_leave_rule_officer_update').write({'groups': [(3, env.ref('hr_holidays.group_hr_holidays_user').id), (4, env.ref('ngsd_base.group_toof').id)]})
env.ref('hr_timesheet.group_hr_timesheet_approver').write({'implied_ids': [(4, env.ref('ngsd_base.group_nd_xtcbcc').id)]})
env.ref('project.project_public_members_rule').write({'domain_force': "[('message_partner_ids', 'in', [user.partner_id.id])]"})
env.ref('project.task_visibility_rule').write({'domain_force': "['|','&amp;',('project_id', '!=', False),('project_id.message_partner_ids', 'in', [user.partner_id.id]),'|',('message_partner_ids', 'in', [user.partner_id.id]),'|', ('en_task_position.user_id', '=', user.id),('en_handler', '=', user.id)]"})
env.ref('documents.documents_document_manager_rule').write({'groups': [(3, env.ref('documents.group_documents_manager').id), (4, env.ref('ngsd_base.group_documents_manager').id)]})
env.ref('documents.documents_share_manager_rule').write({'groups': [(3, env.ref('documents.group_documents_manager').id), (4, env.ref('ngsd_base.group_documents_manager').id)]})
env.ref('documents.documents_folder_manager_rule').write({'groups': [(3, env.ref('documents.group_documents_manager').id), (4, env.ref('ngsd_base.group_documents_manager').id)]})

        </field>
        <field name='interval_number'>1</field>
        <field name='interval_type'>days</field>
        <field name="active">True</field>
        <field name="numbercall">1</field>
        <field name="nextcall" eval="(DateTime.now() + timedelta(days=-1)).strftime('%Y-%m-%d %H:%M:%S')"/>
    </record>
</odoo>